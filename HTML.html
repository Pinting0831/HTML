<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HTML</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="antialiased bg-slate-50 text-slate-800">

  <!-- Navbar -->
  <header class="bg-white shadow-sm sticky top-0 z-50">
    <div class="container mx-auto px-4 py-4 flex items-center justify-between">
      <a href="#" class="text-lg font-bold">MySite</a>
      <nav class="hidden md:flex gap-6 items-center">
        <a href="#features" class="hover:text-sky-600">特色</a>
        <a href="#gallery" class="hover:text-sky-600">作品</a>
        <a href="#contact" class="hover:text-sky-600">聯絡表單</a>
        <a href="#users" class="hover:text-sky-600">使用者表格</a>
      </nav>
      <button id="menuBtn" class="md:hidden p-2 rounded hover:bg-slate-100">
        <svg id="menuIcon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
    <div id="mobileNav" class="md:hidden hidden border-t">
      <div class="px-4 py-3 flex flex-col gap-2">
        <a href="#features" class="block">特色</a>
        <a href="#gallery" class="block">作品</a>
        <a href="#contact" class="block">聯絡表單</a>
        <a href="#users" class="block">使用者表格</a>
      </div>
    </div>
  </header>

  <main>
    <!-- Hero -->
    <section class="container mx-auto px-4 py-12 grid md:grid-cols-2 gap-8 items-center">
      <div>
        <h1 class="text-4xl md:text-5xl font-extrabold leading-tight">WELCOME!</h1>

        <div class="mt-6 flex gap-3">
          <a href="#features" class="inline-block bg-sky-600 text-white px-4 py-2 rounded shadow hover:bg-sky-700">了解更多</a>
          <a href="#contact" class="inline-block border px-4 py-2 rounded hover:bg-slate-100">聯絡我們</a>
        </div>
      </div>
      <div class="aspect-[4/3] bg-gradient-to-br from-sky-100 to-slate-100 rounded-lg shadow flex items-center justify-center">
        <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=800&q=60" alt="示意圖" class="object-cover w-full h-full rounded-lg" />
      </div>
    </section>

    <!-- Features -->
    <section id="features" class="bg-white py-12">
      <div class="container mx-auto px-4">
        <h2 class="text-2xl font-semibold">特色</h2>
        <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
          <div class="p-4 bg-slate-50 rounded-lg shadow-sm">特色1</div>
          <div class="p-4 bg-slate-50 rounded-lg shadow-sm">特色2</div>
          <div class="p-4 bg-slate-50 rounded-lg shadow-sm">特色3</div>
          <div class="p-4 bg-slate-50 rounded-lg shadow-sm">特色4</div>
        </div>
      </div>
    </section>

    <!-- Gallery -->
    <section id="gallery" class="container mx-auto px-4 py-12">
      <h2 class="text-2xl font-semibold">作品集</h2>
      <div class="mt-6 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
        <img src="https://images.unsplash.com/photo-1508780709619-79562169bc64?auto=format&fit=crop&w=800&q=60" class="rounded shadow" alt="作品1">
        <img src="https://images.unsplash.com/photo-1508780709619-79562169bc64?auto=format&fit=crop&w=800&q=60" class="rounded shadow" alt="作品2">
        <img src="https://images.unsplash.com/photo-1508780709619-79562169bc64?auto=format&fit=crop&w=800&q=60" class="rounded shadow" alt="作品3">
        <img src="https://images.unsplash.com/photo-1508780709619-79562169bc64?auto=format&fit=crop&w=800&q=60" class="rounded shadow" alt="作品4">
      </div>
    </section>

    <!-- Contact Form -->
    <section id="contact" class="bg-white py-12">
      <div class="container mx-auto px-4 max-w-4xl grid md:grid-cols-2 gap-8">
        <form id="userForm" class="flex flex-col space-y-4">
          <h2 class="text-2xl font-bold mb-4">聯絡表單</h2>
          <div>
            <label class="block font-medium">姓名：</label>
            <input id="name" type="text" class="w-full border rounded p-2" placeholder="請輸入姓名" required>
            <p id="nameError" class="text-red-500 text-sm hidden">請輸入姓名</p>
          </div>
          <div>
            <label class="block font-medium">Email：</label>
            <input id="email" type="email" class="w-full border rounded p-2" placeholder="請輸入 Email" required>
            <p id="emailError" class="text-red-500 text-sm hidden">請輸入有效的 Email</p>
          </div>
          <div>
            <label class="block font-medium">留言：</label>
            <textarea id="message" class="w-full border rounded p-2" rows="4" placeholder="請輸入留言" required></textarea>
            <p id="messageError" class="text-red-500 text-sm hidden">請輸入留言內容</p>
          </div>
          <button type="submit" class="bg-sky-600 text-white py-2 rounded hover:bg-sky-700">送出</button>
        </form>

        <div id="output" class="p-4 bg-gray-100 rounded-lg">
          <h2 class="text-2xl font-bold mb-4">表單送出結果</h2>
          <p><strong>姓名：</strong><span id="outName">（尚未輸入）</span></p>
          <p><strong>Email：</strong><span id="outEmail">（尚未輸入）</span></p>
          <p><strong>留言：</strong><span id="outMessage">（尚未輸入）</span></p>
        </div>
      </div>
    </section>

    <!-- Users Table -->
    <section id="users" class="py-12 bg-slate-50">
      <div class="container mx-auto px-4 max-w-6xl">
        <h2 class="text-2xl font-bold mb-4">使用者清單</h2>
        <div class="mb-4 flex gap-3 items-center">
          <input id="searchInput" class="border p-2 rounded w-72" placeholder="搜尋 title 或 body...">
          <button id="refreshBtn" class="border px-3 py-2 rounded text-sm">重新載入</button>
        </div>
        <div id="status" class="text-sm text-slate-600 mb-3"></div>
        <div class="overflow-x-auto bg-white rounded shadow">
          <table id="dataTable" class="min-w-full border-collapse">
            <thead class="bg-slate-100">
              <tr class="text-left text-sm">
                <th class="p-2">ID</th>
                <th class="p-2">UserID</th>
                <th class="p-2">Title</th>
                <th class="p-2">Body</th>
              </tr>
            </thead>
            <tbody id="tableBody" class="text-sm"></tbody>
          </table>
        </div>
      </div>
    </section>
  </main>

  <footer class="bg-slate-800 text-white py-6 mt-8">
    <div class="container mx-auto px-4 text-center">© <span id="year"></span> MySite. All rights reserved.</div>
  </footer>

  <script>
    // --- 導覽選單 ---
    const menuBtn = document.getElementById('menuBtn');
    const mobileNav = document.getElementById('mobileNav');
    menuBtn.addEventListener('click', () => mobileNav.classList.toggle('hidden'));

    // --- 表單驗證 ---
    const form = document.getElementById('userForm');
    const nameInput = document.getElementById('name');
    const emailInput = document.getElementById('email');
    const messageInput = document.getElementById('message');
    const nameError = document.getElementById('nameError');
    const emailError = document.getElementById('emailError');
    const messageError = document.getElementById('messageError');
    const outName = document.getElementById('outName');
    const outEmail = document.getElementById('outEmail');
    const outMessage = document.getElementById('outMessage');

    form.addEventListener('submit', e => {
      e.preventDefault();
      let valid = true;
      if (nameInput.value.trim() === '') { nameError.classList.remove('hidden'); valid = false; } else nameError.classList.add('hidden');
      const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
      if (!emailInput.value.match(emailPattern)) { emailError.classList.remove('hidden'); valid = false; } else emailError.classList.add('hidden');
      if (messageInput.value.trim() === '') { messageError.classList.remove('hidden'); valid = false; } else messageError.classList.add('hidden');
      if (valid) {
        outName.textContent = nameInput.value;
        outEmail.textContent = emailInput.value;
        outMessage.textContent = messageInput.value;
        form.reset();
      }
    });

    // --- 表格資料載入 ---
    const API_URL = 'https://jsonplaceholder.typicode.com/posts';
    const statusEl = document.getElementById('status');
    const tableBody = document.getElementById('tableBody');
    const searchInput = document.getElementById('searchInput');
    const refreshBtn = document.getElementById('refreshBtn');
    let allData = [], filtered = [];

    async function loadData() {
      statusEl.textContent = '載入中...';
      try {
        const res = await fetch(API_URL);
        if (!res.ok) throw new Error('HTTP ' + res.status);
        allData = await res.json();
        filtered = allData.slice(0, 20);
        renderTable(filtered);
        statusEl.textContent = `已載入 ${allData.length} 筆，顯示前 20 筆。`;
      } catch (e) {
        statusEl.textContent = '載入失敗：' + e.message;
      }
    }

    function renderTable(data) {
      tableBody.innerHTML = data.map(p => `
        <tr class="border-t hover:bg-slate-50">
          <td class="p-2">${p.id}</td>
          <td class="p-2">${p.userId}</td>
          <td class="p-2">${escapeHtml(p.title)}</td>
          <td class="p-2 text-slate-600">${escapeHtml(p.body.substring(0,60))}...</td>
        </tr>
      `).join('');
    }

    function escapeHtml(str) {
      return str.replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;');
    }

    searchInput.addEventListener('input', () => {
      const q = searchInput.value.toLowerCase();
      filtered = allData.filter(p => p.title.toLowerCase().includes(q) || p.body.toLowerCase().includes(q));
      renderTable(filtered.slice(0,20));
    });

    refreshBtn.addEventListener('click', loadData);

    document.getElementById('year').textContent = new Date().getFullYear();
    loadData();
  </script>
</body>
</html>
